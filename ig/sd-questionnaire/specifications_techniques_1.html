<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>Consultation des données capacitaires - Répertoire national de l’Offre et des Ressources en santé et accompagnement médico-social v0.2.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link rel="stylesheet" href="fhir.css"/>

      <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>

      <!-- Project extras -->
    <link rel="stylesheet" href="assets/css/project.css"/>
    <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
    <link rel="stylesheet" href="assets/css/jquery-ui.css"/>
  	<link rel="stylesheet" href="assets/css/prism.css"/>
    <link rel="stylesheet" href="assets/css/style-ans.css"/>
    <link rel="stylesheet" href="assets/css/style-add-ans.css"/>
      <!-- Placeholder for child template CSS declarations -->

    <script src="fhir-table-scripts.js" type="text/javascript"> </script>

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- [if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif] -->

      <!-- Favicons -->
    <link sizes="144x144" rel="fhir-logo" href="assets/ico/icon-fhir-144.png"/>
    <link sizes="114x114" rel="fhir-logo" href="assets/ico/icon-fhir-114.png"/>
    <link sizes="72x72" rel="fhir-logo" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"3"}
    h3,h4,h5,h6{--heading-prefix:"3"}</style>
    <div id="segment-header" class="segment">    <!-- segment-header -->
      <div class="container">    <!-- container -->
          <!-- Placeholder for child template header declarations -->
<div id="family-nav">
  <a no-external="true" id="hl7-search-lnk" href="http://hl7.org/fhir"><img src="assets/images/fhir-logo-www.png" alt="Visit the FHIR website" height="50"/> </a>
</div>
<div style="line-height: 50px; float: left; margin-top: 4px; margin-bottom: 8px; color: #808080; " id="ans-nav">
  <a no-external="true" id="hl7-logo" href="https://esante.gouv.fr/"><img src="assets/images/logo-ANS.svg" alt="ANS Logo" height="50"/></a>
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Répertoire national de l’Offre et des Ressources en santé et accompagnement médico-social</span>
            <br/>
            <span style="display:inline-block;">0.2.0 - ci-build



  <img src="assets/images/fra.svg" alt="France flag" title="France" height="16"/>


            </span>
          </p>
        </div>
      </div>   <!-- /container -->
    </div>    <!-- /segment-header -->

    <div id="segment-navbar" class="segment">    <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">    <!-- container -->
          <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
            <!-- status-bar -->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a href="http://hl7.org/fhir/R4/index.html" class="navbar-brand hidden">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml -->

<ul class="nav navbar-nav">
  <li>
    <a href="index.html">Accueil</a>
  </li>
  <li>
    <a href="specifications_fonctionnelles.html">Spécifications fonctionnelles</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Spécifications techniques
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="specifications_techniques_1.html">Consultation des données capacitaires</a>
      </li>
      <li>
        <a href="specifications_techniques_2.html">Consultation de l'offre (extraction)</a>
      </li>
      <li>
        <a href="specifications_techniques_3.html">Recherche d'offre sur critères principaux</a>
      </li>
      <li>
        <a href="specifications_techniques_4.html">Recherche d'offre avec données capacitaires</a>
      </li>
      <li>
        <a href="specifications_techniques_8.html">Recherche d'offre sur la base d'informations tarifaires</a>
      </li>
      <li>
        <a href="specifications_techniques_9.html">Recherche d'offre via une technique « Full text »</a>
      </li>
      <li>
        <a href="specifications_techniques_10.html">Création et Mise à jour du lieu de réalisation de l'offre</a>
      </li>
      <li>
        <a href="specifications_techniques_5.html">Signalement d'anomalie</a>
      </li>
      <li>
        <a href="specifications_techniques_6.html">Mise à jour d'anomalie</a>
      </li>
      <li>
        <a href="specifications_techniques_7.html">Consultation d'anomalie</a>
      </li>
      <li>
        <a href="specifications_techniques_11.html">Consultation d'indicateurs de pilotage</a>
      </li>
      <li>
        <a href="search_param.html">Critères de recherche</a>
      </li>
      <li>
        <a href="modifiers.html">Paramètres et modificateurs de requêtes FHIR</a>
      </li>
      <li>
        <a href="annexes.html">Annexes</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="mapping.html">Mapping FHIR du modèle de données</a>
  </li>
  <li>
    <a href="artifacts.html">Ressources de conformité</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Autres ressources
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="securite.html">Sécurité</a>
      </li>
      <li>
        <a href="downloads.html">Téléchargements et usage</a>
      </li>
      <li>
        <a href="http://hl7.org/fhir/R4/index.html" target="_blank">Spécifications FHIR </a>
      </li>
      <li>
        <a href="https://esante.gouv.fr/" target="_blank">Site de l'ANS </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="https://interop.esante.gouv.fr/ig/documentation/" target="_blank">Documentation</a>
  </li>
</ul>
            </div>    <!-- /.nav-collapse -->
          </div>    <!-- /.container -->
        </nav>    <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
      </div>    <!-- /container -->
    </div>    <!-- /segment-navbar -->
      <!-- status-bar -->

    <div id="segment-breadcrumb" class="segment">    <!-- segment-breadcrumb -->
      <div class="container">    <!-- container -->
        <ul class="breadcrumb">
          <li><a href="toc.html"><b>Table of Contents</b></a></li><li><b>Consultation des données capacitaires</b></li>

          <span style="float:right;">

            <a href="specifications_fonctionnelles.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="specifications_techniques_2.html">next&gt;</a>

          </span>

        </ul>
      </div>    <!-- /container -->
    </div>    <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">    <!-- segment-content -->
      <div class="container">    <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
    <!-- ReleaseHeader --><p id="publish-box">Répertoire national de l’Offre et des Ressources en santé et accompagnement médico-social - Local Development build (v0.2.0) built by the FHIR (HL7&reg; FHIR&reg; Standard) Build Tools. See the <a href="https://interop.esante.gouv.fr/ig/fhir/ror/history.html">Directory of published versions</a></p>  <!-- EndReleaseHeader -->
  <h2>Consultation des données capacitaires</h2>
  












    <p>  <!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#caractéristiques-de-lapi" id="markdown-toc-caractéristiques-de-lapi">Caractéristiques de l’API</a></li>
  <li><a href="#construction-de-la-requête-de-base" id="markdown-toc-construction-de-la-requête-de-base">Construction de la requête de base</a></li>
  <li><a href="#construction-de-la-réponse-de-base" id="markdown-toc-construction-de-la-réponse-de-base">Construction de la réponse de base</a></li>
  <li><a href="#critères-de-recherche" id="markdown-toc-critères-de-recherche">Critères de recherche</a></li>
  <li><a href="#paramètres-et-modificateurs-de-requêtes-fhir" id="markdown-toc-paramètres-et-modificateurs-de-requêtes-fhir">Paramètres et modificateurs de requêtes FHIR</a></li>
  <li><a href="#exemples-de-requêtes" id="markdown-toc-exemples-de-requêtes">Exemples de requêtes</a></li>
</ul>

</div>
  <!-- Consultation des données capacitaires -->
<h3 id="caractéristiques-de-lapi">Caractéristiques de l’API</h3>

<table width="25%">
<tbody>
<tr>
<td width="45%">
<p><strong>Endpoint</strong></p>
</td>

<td width="54%">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="45%">
<p><strong>Header</strong></p>
</td>
<td width="54%">
<p>Content-type&nbsp;:=Json + FHIR</p>
</td>
</tr>
<tr>
<td width="45%">
<p><strong>Encodage</strong></p>
</td>
<td width="54%">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="45%">
<p><strong>Version FHIR</strong></p>
</td>
<td width="54%">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="45%">
<p><strong>Version package</strong></p>
</td>
<td width="54%">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="45%">
<p><strong>Publication</strong></p>
</td>
<td width="54%">
<p>&nbsp;</p>
</td>
</tr>
</tbody>
</table>

<h3 id="construction-de-la-requête-de-base">Construction de la requête de base</h3>

<table>
<tbody>
<tr>
<td width="215">
<p><strong>Interaction FHIR</strong></p>
</td>
<td width="465">
<p>Search<a name="_ftnref1" href="#_ftn1">[1]</a></p>
</td>
</tr>
<tr>
<td width="215">
<p><strong>Méthode http associée</strong></p>
</td>
<td width="465">
<p>GET</p>
</td>
</tr>
<tr>
<td width="215">
<p><strong>Ressource recherchée</strong></p>
</td>
<td width="465">
<p>Location</p>
</td>
</tr>
<tr>
<td width="215">
<p><strong>Construction requête de base</strong></p>
</td>
<td width="465">
<p><code>GET [base]/Location{?[parameters]{&amp;_format=[mime-type]}}</code></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p><a name="_ftn1" href="#_ftnref1">[1]</a> <a href="https://www.hl7.org/fhir/R4/http.html#search">https://www.hl7.org/fhir/R4/http.html#search</a> et <a href="https://www.hl7.org/fhir/R4/http.html#general">https://www.hl7.org/fhir/R4/http.html#general</a></p>

<h3 id="construction-de-la-réponse-de-base">Construction de la réponse de base</h3>

<h4 id="réponse-de-base--succès">Réponse de base – Succès</h4>

<p>Lien vers la spécification FHIR&nbsp;: <a href="https://www.hl7.org/fhir/R4/bundle.html">https://www.hl7.org/fhir/R4/bundle.html</a></p>

<p>Si la recherche est un succès, le serveur répond&nbsp;:</p>

<ul>
  <li>
    <p>Un header avec un code 200 OK HTTP</p>
  </li>
  <li>
    <p>Un body&nbsp;contenant une ressource <a href="https://www.hl7.org/fhir/R4/bundle.html">Bundle</a> dont le type =
searchset.
Le bundle encapsule 0 à n ressources Location corespondant aux
critères de recherche plus les ressources incluses correspondant aux
critères de recherche.
Le service développé renvoie les 200 premiers résultats et indique
le total trouvé dans une balise <code class="language-plaintext highlighter-rouge">total</code>. Dans le cas où il n’y a
pas de résultat le service renvoie <code class="language-plaintext highlighter-rouge">total</code>:&nbsp;0.</p>
  </li>
</ul>

<p>Remarque&nbsp;: la recherche est un succès à partir du moment où la requête
peut être exécutée. Il peut il y avoir 0 à n correspondances.</p>

<p>Plus de précision sur la spécification FHIR :
https://www.hl7.org/fhir/R4/http.html</p>

<h4 id="réponse-de-base--echec">Réponse de base – Echec</h4>

<p>Lien vers la spécification FHIR&nbsp;:
<a href="https://www.hl7.org/fhir/R4/operationoutcome.html">https://www.hl7.org/fhir/R4/operationoutcome.html</a></p>

<p>Si la recherche échoue, le serveur doit répondre&nbsp;:</p>

<ul>
  <li>
    <p>Un header avec un un code erreur HTTP 4XX ou 5XX</p>
  </li>
  <li>
    <p>Un body contenant une ressource OperationOutcome[^3] qui donne les
détails sur la raison de l’échec</p>
  </li>
</ul>

<p>Remarque&nbsp;: l’échec d’une recherche est la non-possibilité d’exécuter la
requête, ce qui est différent d’aucune correspondance à la recherche.
Plus de précision sur la spécification FHIR :
<a href="https://www.hl7.org/fhir/R4/http.html">https://www.hl7.org/fhir/R4/http.html</a></p>

<h3 id="critères-de-recherche">Critères de recherche</h3>

<ul>
  <li>Les critères de recherche, définis au <a href="search_param.html#structuredefinition-ror-location">paragraphe dédié</a>, de
<strong>StructureDefinition-ror-location</strong> applicables à ce cas d’usage
sont&nbsp;:</li>
</ul>

<table>
<tbody>
<tr>
<td width="230">
<p>_lastUpdated</p>
</td>
<td width="230">
<p>capacity-closing-type</p>
</td>
<td width="230">
<p>identifier</p>
</td>
</tr>
<tr>
<td width="230">
<p>address-postalcode</p>
</td>
<td width="230">
<p>crisis-type</p>
</td>
<td width="230">
<p>limit-value</p>
</td>
</tr>
<tr>
<td width="230">
<p>address-city</p>
</td>
<td width="230">
<p>capacity-update-date*</p>
</td>
<td width="230">
<p>residential-type</p>
</td>
</tr>
<tr>
<td width="230">
<p>additional-bed-type</p>
</td>
<td width="230">
<p>equipment-type</p>
</td>
<td width="230">
<p>residential-number</p>
</td>
</tr>
<tr>
<td width="230">
<p>capacity-status</p>
</td>
<td width="230">
<p>equipment-feature</p>
</td>
<td width="230">
<p>temporary-assignement</p>
</td>
</tr>
<tr>
<td width="230">
<p>capacity-type</p>
</td>
<td width="230">
<p>gender-capacity-available</p>
</td>
<td width="230">
<p>temporality-capacity</p>
</td>
</tr>
</tbody>
</table>
<p>*<i>Critères de recherche qui seront applicables ultérieurement</i></p>

<ul>
  <li>Les critères de recherche, définis au <a href="search_param.html#structuredefinition-ror-healthcareservice">paragraphe dédié</a>, de
<strong>StructureDefinition-ror-healthcareservice</strong> applicables à ce cas
d’usage sont&nbsp;:</li>
</ul>

<table>
<tbody>
<tr>
<td width="230">
<p>Identifier</p>
</td>
<td width="230">
<p>location</p>
</td>
</tr>
</tbody>
</table>

<p>Ces critères de recherche sont applicables à la ressource Location,
grâce au <a href="https://www.hl7.org/fhir/R4/search.html#has">chainage inversé</a>. Pour cela utiliser la syntaxe suivante&nbsp;:
<code class="language-plaintext highlighter-rouge">_has:HealthcareService:location:[NOM CRITERE]</code></p>

<ul>
  <li>Les critères de recherche, définis au paragraphe 4.6, de StructureDefinition-ror-task applicables à ce cas d’usage sont :</li>
</ul>
<table>
<tbody>
<tr>
<td width="228">
<p>business-status*</p>
</td>
<td width="226">
<p>_id</p>
</td>
<td width="226">
<p>_lastUpdated*</p>
</td>
</tr>
<tr>
<td width="228">
<p>identifier*</p>
</td>
<td width="226">
<p>authored-on*</p>
</td>
<td width="226">
<p>&nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>*<i>Critères de recherche qui seront applicables ultérieurement</i></p>

<p>Ces critères de recherche sont applicables à la ressource Location,
grâce au <a href="https://www.hl7.org/fhir/R4/search.html#has">chainage inversé</a>. Pour cela utiliser la syntaxe suivante&nbsp;:
<code class="language-plaintext highlighter-rouge">_has:Location:focus:[[NOM CRITERE]</code></p>

<h3 id="paramètres-et-modificateurs-de-requêtes-fhir">Paramètres et modificateurs de requêtes FHIR</h3>

<p><a name="l964">​</a>Les paramètres et modificateurs de requêtes décrits au <a href="specifications_techniques.html#param%C3%A8tres-et-modificateurs-de-requ%C3%AAtes-fhir-1">paragraphe dédié</a>
applicables à ce cas d’usage sont&nbsp;:</p>

<ul>
  <li>
    <p>_revinclude, _include,&nbsp;:iterate</p>
  </li>
  <li>
    <p>_has, _count, _sort</p>
  </li>
  <li>
    <p>Tous les prefixes de comparaison</p>
  </li>
</ul>

<h3 id="exemples-de-requêtes">Exemples de requêtes</h3>

<h4 id="scénario-1-données-capacitaires-sur-le-périmètre-national">Scénario 1&nbsp;: Données capacitaires sur le périmètre national</h4>

<p><strong>Description du scénario&nbsp;:</strong> un consommateur souhaite récupérer l'ensemble des données capacitaires sur le périmètre national afin de mettre à jour son système.</p>

<p><strong>Requête :</strong></p>

<p><code class="language-plaintext highlighter-rouge">GET [BASE]/Location?_revinclude=HealthcareService:location</code></p>

<p><strong>Requête expliquée&nbsp;:</strong></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET <span class="o">[</span>BASE]/Location?_revinclude<span class="o">=</span>HealthcareService:location <span class="c">#inclus les HealthcareService qui référencent les Location</span>

</code></pre></div></div>
<p><strong>Réponse “simplifiée”&nbsp;:</strong></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
  resourceType: Bundle
  type: searchset
  total: 4
  Location1 (match) UE1(include)
  Location2 (match) UE2(include)
  Location3 (match) UE3(include)
  Location4 (match) UE3(include)

</code></pre></div></div>
<h4 id="scénario-2-données-capacitaires-sur-un-lieu-de-prise-en-charge-identifié">Scénario 2&nbsp;: Données capacitaires sur un lieu de prise en charge identifié</h4>

<p><strong>Description du scénario&nbsp;:</strong> un consommateur souhaite mettre à jour dans son système les données de capacité sur un lieu de prise en charge = Location1.</p>

<p><strong>Requête :</strong></p>

<p><code class="language-plaintext highlighter-rouge">GET [BASE]/Location?identifier=Location1&amp;_revinclude=HealthcareService:location</code></p>

<p><strong>Requête expliquée&nbsp;:</strong></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET <span class="o">[</span>BASE]/Location?identifier<span class="o">=</span>Location1 <span class="c">#critère de recherche sur l’identifiant technique du lieu de prise en charge</span>
&amp;_revinclude<span class="o">=</span>HealthcareService:location <span class="c">#inclus les HealthcareService qui référencent les Location</span>


</code></pre></div></div>
<p><strong>Réponse “simplifiée”&nbsp;:</strong></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
  resourceType: Bundle
  type: searchset
  total: 1
  Location1 (match) UE1(include)


</code></pre></div></div>
<h4 id="scénario-3-données-capacitaires-sur-plusieurs-lieux-de-prise-en-charge-identifiés">Scénario 3&nbsp;: Données capacitaires sur plusieurs lieux de prise en charge identifiés</h4>

<p><strong>Description du scénario&nbsp;:</strong> un consommateur souhaite mettre à jour dans son système les données de capacité sur plusieurs lieux de prise en charge = Location1 ou Location2.</p>

<p><strong>Requête :</strong></p>

<p><code class="language-plaintext highlighter-rouge">GET [BASE]/Location?identifier=Location1,Location2&amp;_revinclude=HealthcareService:location</code></p>

<p><strong>Requête expliquée&nbsp;:</strong></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET <span class="o">[</span>BASE]/Location?identifier<span class="o">=</span>Location1,Location2 <span class="c">#critère de recherche sur l’identifiant technique du lieu de prise en charge</span>
&amp;_revinclude<span class="o">=</span>HealthcareService:location <span class="c">#inclus les HealthcareService qui référencent les Location</span>


</code></pre></div></div>
<p><strong>Réponse “simplifiée”&nbsp;:</strong></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
  resourceType: Bundle
  type: searchset
  total: 2
  Location1 (match) UE1(include)
  Location2 (match) UE2(include)


</code></pre></div></div>
<h4 id="scénario-4-données-capacitaires-à-partir-dune-date-de-mise-à-jour">Scénario 4&nbsp;: Données capacitaires à partir d’une date de mise à jour</h4>

<p><strong>Description du scénario&nbsp;:</strong> un consommateur souhaite mettre à jour dans son système les données de capacité à partir d'une date de mise à jour &gt;= 06/11/2022-15h00.</p>

<p><strong>Requête :</strong></p>

<p><code class="language-plaintext highlighter-rouge">GET [BASE]/Location?_lastUpdated=ge2022-11-06T15:00&amp;_revinclude=HealthcareService:location</code></p>

<p><strong>Requête expliquée&nbsp;:</strong></p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET <span class="o">[</span>BASE]/Location?_lastUpdated<span class="o">=</span>ge2022-11-06T15:00 <span class="c">#critère de recherche sur la date de mise à jour/ge=greater or equal</span>
&amp;_revinclude<span class="o">=</span>HealthcareService:location <span class="c">#inclus les HealthcareService qui référencent les Location</span>
</code></pre></div></div>
<p><strong>Réponse “simplifiée”&nbsp;:</strong></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
  resourceType: Bundle
  type: searchset
  total: 1

  Location1 (match) UE1(include)
</code></pre></div></div>

<h4 id="scénario-5-données-capacitaires-dune-offre-opérationnelle">Scénario 5&nbsp;: Données capacitaires d’une offre opérationnelle</h4>

<p><strong>Prérequis&nbsp;:</strong> un consommateur recherche au préalable une offre de santé correspondant à ses critères via le service de recherche
sur le modèle d'exposition 2.4 du ROR. Le service de recherche envoie les identifiants des offres correspondant aux critères.</p>

<p><strong>Description du scénario&nbsp;:</strong> un consommateur souhaite connaitre la situation des capacités pour les offres identifiées via le service de recherche sur le modèle d'exposition 2.4 du ROR = UE1 ou UE2 ou UE3.</p>

<p><strong>Requête :</strong></p>

<p><code class="language-plaintext highlighter-rouge">GET [BASE]/Location?_has:HealthcareService:location:identifier=UE1,UE2,UE3&amp;_revinclude=HealthcareService:location</code></p>

<p><strong>Requête expliquée&nbsp;:</strong></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET <span class="o">[</span>BASE]/Location?_has:HealthcareService:location:identifier<span class="o">=</span>UE1,UE2,UE3 <span class="c">#critère de recherche sur l’identifiant de l’offre. Utilisation _has (reverse chaining) car c’est HealthcareService qui fait référence à Location. </span>
&amp;_revinclude<span class="o">=</span>HealthcareService:location <span class="c">#inclus les HealthcareService qui référencent les Location</span>
</code></pre></div></div>
<p><strong>Réponse “simplifiée”&nbsp;:</strong></p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
  resourceType: Bundle
  type: searchset
  total: 4
  Location1 (match) UE1(include)
  Location2 (match) UE2(include)
  Location3 (match) UE3(include)
  Location4 (match) UE3(include)

</code></pre></div></div>




</div>
        </div>    <!-- /inner-wrapper -->
      </div>    <!-- /row -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-content -->

  <script src="assets/js/jquery.js" type="text/javascript"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script src="assets/js/jquery-ui.min.js" type="text/javascript"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div igtool="footer" id="segment-footer" class="segment">    <!-- segment-footer -->
    <div class="container">    <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&nbsp;

                <a href="specifications_fonctionnelles.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&nbsp;

                <a href="specifications_techniques_2.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &copy; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="https://esante.gouv.fr">ANS</a>.  Package ans.fhir.fr.ror#0.2.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Wed, Jan 31, 2024 17:33+0000">2024-01-31</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)"></span>
                      Liens: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table des matières </a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA </a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="https://interop.esante.gouv.fr/ig/fhir/ror/history.html" target="_blank">Historique des versions </a>
                  | <a style="color: var(--footer-hyperlink-text-color)" href="https://github.com/ansforge/IG-fhir-repertoire-offre-ressources-sante/issues/new/choose" target="_blank">New Issue</a>
                

          
        </p>
      </div>    <!-- /inner-wrapper -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
    <div class="container">    <!-- container -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-post-footer -->
  
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/bootstrap.min.js" type="text/javascript"> </script>
  <script src="assets/js/respond.min.js" type="text/javascript"> </script>
  <script src="assets/js/anchor.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard-btn.js" type="text/javascript"> </script>

    <!-- Ajout ANS -->
  <script src="assets/js/app.js" type="text/javascript"> </script>
  <script src="assets/js/vendor.js" type="text/javascript"> </script>
    <!-- Fin ajout ANS -->

  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
  <!-- feedback form - Google forms -->
  <!-- v0.1, 2021-01-09 -->


  
    
  



  <!-- / feedback form -->

    <!-- Analytics Below
  ================================================== -->


    <!-- AJOUT ANS -->

<footer role="contentinfo" class="footer footer-principal">
  <div class="footer__region1">
    <div class="container">
      <div class="row">

        <div class="col-md-6 col-lg-4 text-center text-md-left">
          <div class="logos">        
            <div class="logo logo--0">
              <a rel="nofollow" href="https://solidarites-sante.gouv.fr" title="Ministère des Solidarités et de la Santé (nouvelle fenêtre)" target="_blank">
                
                <img src="assets/images/logo-ministere.svg" alt="Ministère des Solidarités et de la Santé" width="133" loading="lazy" height="77"/>
                
              </a>
            </div>
        
            <div class="logo logo--1">
              <a rel="nofollow" href="https://esante.gouv.fr/" title="Agence du numérique en santé (nouvelle fenêtre)" target="_blank">
                
                <img src="assets/images/logo-ANS-footer.svg" alt="Agence du numérique en santé" width="106" loading="lazy" height="74"/>
              </a>
            </div>
          </div>
        </div>
        
        <div class="col-md-6 col-lg-4 text-center text-md-left">
          <p class="footer__title">Agence du Numérique en Santé</p>
          <p>2-10 Rue d'Oradour-sur-Glane 75015 Paris</p>

            <!-- <div class="m-social">
            <ul class="m-social__list">        
              <li class="m-social__item">
                <a class="m-social__link" href="https://www.linkedin.com/company/agence-du-numerique-en-sante/" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-linkedin" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#linkedin"></use></svg>
                  </div>
                  <span class="sr-only">linkedin</span>
                </a>
              </li>
              <li class="m-social__item">
                <a class="m-social__link" href="https://twitter.com/esante_gouv_fr" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-twitter" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#twitter"></use></svg>
                  </div>
                  <span class="sr-only">twitter</span>
                </a>
              </li>
              <li class="m-social__item">
                <a class="m-social__link" href="https://www.youtube.com/channel/UCd1zuSaU5cE1lRCpwv_HSMA" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-youtube" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#youtube"></use></svg>
                  </div>
                  <span class="sr-only">youtube</span>
                </a>
              </li>
              <li class="m-social__item">
                <a class="m-social__link" href="https://esante.gouv.fr/rss.xml" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-rss" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#rss"></use></svg>
                  </div>
                  <span class="sr-only">rss</span>
                </a>
              </li>
            </ul>
          </div> -->
        </div>
        
        <div class="col-6 col-lg-4">
          <ul class="footer-list">
            <li class="footer-list__item footer-list__item--hasIcon">
              <a href="mailto:ci-sis@esante.gouv.fr" class="mailto-link">
                <svg aria-hidden="true" focusable="false" class="svg-icon svg-angle-right"><use href="assets/images/icon-sprite.svg#angle-right"></use></svg>Contact</a>
              </li>
                <!-- <li class="footer-list__item">
                <a href="https://interop-pprod.esante.gouv.fr/ci-sis-specifications/wp-content/uploads/CGU_espace_de_tests_v1.1.pdf" class="file-link">Mentions légales</a>
              </li> -->
            </ul>
          </div>

        </div>
      </div>
    </div>
    
      <!-- <div class="footer__region2">
      <div class="container">
        <div class="footer-contentinfo">
          <ul class="footer-list footer-list--inline">

          </ul>
        </div>
      </div>
    </div> -->
  </footer>
  </body>
</html>